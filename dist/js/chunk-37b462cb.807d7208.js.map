{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/components/manager/manager_Orders.vue?6712","webpack:///src/components/manager/manager_Orders.vue","webpack:///./src/components/manager/manager_Orders.vue?19f3","webpack:///./src/components/manager/manager_Orders.vue"],"names":["fails","__webpack_require__","module","exports","method","arg","call","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn","this","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_l","item","key","orders","class","text-secondary","is_paid","_v","_s","_f","create_at","domProps","textContent","user","email","_e","product","i","title","qty","unit","total","attrs","page-data","pagination","on","changepage","getOrders","staticRenderFns","manager_Ordersvue_type_script_lang_js_","data","isNew","components","Pagination","methods","currentPage","arguments","length","vm","url","concat","$store","dispatch","$http","get","tempProduct","then","response","console","log","computed","sortOrder","newOrder","a","b","aIsPaid","bIsPaid","created","manager_manager_Ordersvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-37b462cb.807d7208.js","sourcesContent":["'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table',{staticClass:\"table mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.sortOrder),function(item,key){return (_vm.orders.length)?_c('tr',{key:key,class:{'text-secondary': !item.is_paid}},[_c('td',[_vm._v(_vm._s(_vm._f(\"date\")(item.create_at)))]),_c('td',[(item.user)?_c('span',{domProps:{\"textContent\":_vm._s(item.user.email)}}):_vm._e()]),_c('td',[_c('ul',{staticClass:\"list-unstyled\"},_vm._l((item.products),function(product,i){return _c('li',{key:i},[_vm._v(_vm._s(product.product.title)+\" 數量：\"+_vm._s(product.qty)+\"\\n\"+_vm._s(product.product.unit))])}),0)]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.total)))]),_c('td',[(item.is_paid)?_c('strong',{staticClass:\"text-success\"},[_vm._v(\"已付款\")]):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"尚未起用\")])])]):_vm._e()}),0)]),_c('Pagination',{staticClass:\"d-flex justify-content-center\",attrs:{\"page-data\":_vm.pagination},on:{\"changepage\":_vm.getOrders}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"購買時間\")]),_c('th',[_vm._v(\"Email\")]),_c('th',[_vm._v(\"購買款項\")]),_c('th',[_vm._v(\"應付金額\")]),_c('th',[_vm._v(\"是否付款\")])])])}]\n\nexport { render, staticRenderFns }","<template lang='pug'>\ndiv\n  table.table.mt-4\n    thead\n      tr\n        th 購買時間\n        th Email\n        th 購買款項\n        th 應付金額\n        th 是否付款\n    tbody\n      tr(v-for='(item, key) in sortOrder', :key='key', v-if='orders.length', :class=\"{'text-secondary': !item.is_paid}\")\n        td {{ item.create_at | date }}\n        td\n          span(v-text='item.user.email', v-if='item.user')\n        td\n          ul.list-unstyled\n            li(v-for='(product, i) in item.products', :key='i')\n              | {{ product.product.title }} 數量：{{ product.qty }}\n              | {{ product.product.unit }}\n        td.text-right {{ item.total | currency }}\n        td\n          strong.text-success(v-if='item.is_paid') 已付款\n          span.text-muted(v-else='') 尚未起用\n  Pagination(:page-data=\"pagination\" @changepage=\"getOrders\" class=\"d-flex justify-content-center\")\n</template>\n\n<script>\nimport Pagination from '../Pagination'\nexport default {\n  data () {\n    return {\n      orders: {},\n      isNew: false,\n      pagination: {}\n    }\n  },\n  components: {\n    Pagination\n  },\n  methods: {\n    getOrders (currentPage = 1) {\n      const vm = this\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/orders?page=${currentPage}`\n      vm.$store.dispatch('updateLoading', true)\n      this.$http.get(url, vm.tempProduct).then((response) => {\n        vm.orders = response.data.orders\n        vm.pagination = response.data.pagination\n        vm.$store.dispatch('updateLoading', false)\n        console.log(response)\n      })\n    }\n  },\n  computed: {\n    sortOrder () {\n      const vm = this\n      let newOrder = []\n      if (vm.orders.length) {\n        newOrder = vm.orders.sort((a, b) => {\n          const aIsPaid = a.is_paid ? 1 : 0\n          const bIsPaid = b.is_paid ? 1 : 0\n          return bIsPaid - aIsPaid\n        })\n      }\n      return newOrder\n    }\n  },\n  created () {\n    this.getOrders()\n  }\n}\n</script>\n<style lang='sass'>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager_Orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager_Orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./manager_Orders.vue?vue&type=template&id=6e23f2a5&lang=pug&\"\nimport script from \"./manager_Orders.vue?vue&type=script&lang=js&\"\nexport * from \"./manager_Orders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}